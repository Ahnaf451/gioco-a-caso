<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pasta Relax Game</title>
    <style>
        body {
            margin: 0;
            background: #282c34;
            color: white;
            font-family: sans-serif;
            overflow: hidden; /* Niente barre di scorrimento */
            touch-action: none; /* Ottimo per il cellulare */
        }

        #game-area {
            width: 100vw;
            height: 100vh;
            position: relative;
            background: linear-gradient(to bottom, #1e3c72, #2a5298);
        }

        #player {
            position: absolute;
            bottom: 20px;
            width: 180px; /* BELLO GRANDE */
            height: 180px;
            object-fit: cover;
            border: 5px solid white;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            transform: translateX(-50%); /* Centra l'immagine rispetto al mouse */
            pointer-events: none; /* Non intralcia il mouse */
        }

        .item {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #ffcc00;
            border-radius: 50%;
            box-shadow: 0 0 15px #ffcc00;
        }

        #score-ui {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 32px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div id="game-area">
        <div id="score-ui">Punti: <span id="score">0</span></div>
        <img id="player" src="WhatsApp Image 2026-02-07 at 16.59.47.jpeg" alt="Tu">
    </div>

    <script>
        const player = document.getElementById('player');
        const gameArea = document.getElementById('game-area');
        const scoreElement = document.getElementById('score');
        
        let score = 0;
        let playerX = window.innerWidth / 2;

        // Muovi il giocatore con il mouse o il tocco
        window.addEventListener('mousemove', (e) => {
            playerX = e.clientX;
            updatePlayerPos();
        });

        window.addEventListener('touchmove', (e) => {
            playerX = e.touches[0].clientX;
            updatePlayerPos();
        });

        function updatePlayerPos() {
            // Impedisce all'immagine di uscire dai bordi
            if (playerX < 90) playerX = 90;
            if (playerX > window.innerWidth - 90) playerX = window.innerWidth - 90;
            player.style.left = playerX + 'px';
        }

        function createItem() {
            const item = document.createElement('div');
            item.classList.add('item');
            
            let itemX = Math.random() * (window.innerWidth - 40);
            let itemY = -50;
            let speed = 2 + Math.random() * 3; // VelocitÃ  tranquilla

            item.style.left = itemX + 'px';
            gameArea.appendChild(item);

            function fall() {
                itemY += speed;
                item.style.top = itemY + 'px';

                // Controlla se l'immagine "mangia" la pallina
                const playerRect = player.getBoundingClientRect();
                const itemRect = item.getBoundingClientRect();

                if (itemRect.bottom > playerRect.top &&
                    itemRect.right > playerRect.left &&
                    itemRect.left < playerRect.right) {
                    
                    score += 10;
                    scoreElement.innerText = score;
                    item.remove();
                    return; // Esce dal ciclo
                }

                // Se cade fuori, rimuovila
                if (itemY > window.innerHeight) {
                    item.remove();
                    return;
                }

                requestAnimationFrame(fall);
            }

            requestAnimationFrame(fall);
        }

        // Crea una pallina ogni secondo
        setInterval(createItem, 1000);

        // Posizione iniziale
        updatePlayerPos();
    </script>
</body>
</html>
